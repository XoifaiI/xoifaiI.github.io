"use strict";(globalThis.webpackChunkrbx_cryptography_docs=globalThis.webpackChunkrbx_cryptography_docs||[]).push([[67],{109(e,i,t){t.r(i),t.d(i,{assets:()=>g,contentTitle:()=>y,default:()=>p,frontMatter:()=>f,metadata:()=>s,toc:()=>m});const s=JSON.parse('{"id":"hashing/hmac","title":"HMAC","description":"Hash based Message Authentication Code. The standard way to create a MAC from a hash function when you need compatibility with existing systems.","source":"@site/docs/hashing/hmac.md","sourceDirName":"hashing","slug":"/hashing/hmac","permalink":"/docs/hashing/hmac","draft":false,"unlisted":false,"editUrl":"https://github.com/daily3014/rbx-cryptography/tree/main/docs/docs/hashing/hmac.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"BLAKE","permalink":"/docs/hashing/blake"},"next":{"title":"KMAC","permalink":"/docs/hashing/kmac"}}');var o=t(4848),a=t(8453),n=t(5622),r=t(5014);const c=(e,i)=>[{id:"m",position:{x:0,y:0},data:{label:"Message"},style:e(i?"#6366f1":"#818cf8"),sourcePosition:n.yX.Right},{id:"k",position:{x:0,y:70},data:{label:"Secret Key"},style:e(i?"#22c55e":"#4ade80"),sourcePosition:n.yX.Right},{id:"h",position:{x:200,y:35},data:{label:"HMAC"},style:e(i?"#8b5cf6":"#a78bfa"),targetPosition:n.yX.Left,sourcePosition:n.yX.Right},{id:"mac",position:{x:380,y:35},data:{label:"MAC Tag"},style:e(i?"#f59e0b":"#fbbf24"),targetPosition:n.yX.Left,sourcePosition:n.yX.Bottom},{id:"m2",position:{x:0,y:160},data:{label:"Message"},style:e(i?"#6366f1":"#818cf8"),sourcePosition:n.yX.Right},{id:"k2",position:{x:0,y:230},data:{label:"Secret Key"},style:e(i?"#22c55e":"#4ade80"),sourcePosition:n.yX.Right},{id:"v",position:{x:200,y:160},data:{label:"Verify"},style:e(i?"#8b5cf6":"#a78bfa"),targetPosition:n.yX.Left,sourcePosition:n.yX.Right},{id:"valid",position:{x:380,y:160},data:{label:"Valid"},style:e(i?"#16a34a":"#22c55e"),targetPosition:n.yX.Left}],l=[(0,r.W)("m-h","m","h"),(0,r.W)("k-h","k","h"),(0,r.W)("h-mac","h","mac"),(0,r.W)("mac-v","mac","v"),(0,r.W)("m2-v","m2","v"),(0,r.W)("k2-v","k2","v"),(0,r.W)("v-valid","v","valid")],d=(e,i)=>[{id:"m",position:{x:0,y:0},data:{label:"Message"},style:e(i?"#6366f1":"#818cf8"),sourcePosition:n.yX.Bottom},{id:"k",position:{x:140,y:0},data:{label:"Secret Key"},style:e(i?"#22c55e":"#4ade80"),sourcePosition:n.yX.Bottom},{id:"h",position:{x:50,y:80},data:{label:"HMAC"},style:e(i?"#8b5cf6":"#a78bfa"),targetPosition:n.yX.Top,sourcePosition:n.yX.Bottom},{id:"mac",position:{x:50,y:160},data:{label:"MAC Tag"},style:e(i?"#f59e0b":"#fbbf24"),targetPosition:n.yX.Top,sourcePosition:n.yX.Bottom},{id:"m2",position:{x:0,y:240},data:{label:"Message"},style:e(i?"#6366f1":"#818cf8"),sourcePosition:n.yX.Bottom},{id:"k2",position:{x:140,y:240},data:{label:"Secret Key"},style:e(i?"#22c55e":"#4ade80"),sourcePosition:n.yX.Bottom},{id:"v",position:{x:50,y:320},data:{label:"Verify"},style:e(i?"#8b5cf6":"#a78bfa"),targetPosition:n.yX.Top,sourcePosition:n.yX.Bottom},{id:"valid",position:{x:50,y:400},data:{label:"Valid"},style:e(i?"#16a34a":"#22c55e"),targetPosition:n.yX.Top}],h=[(0,r.W)("m-h","m","h"),(0,r.W)("k-h","k","h"),(0,r.W)("h-mac","h","mac"),(0,r.W)("mac-v","mac","v"),(0,r.W)("m2-v","m2","v"),(0,r.W)("k2-v","k2","v"),(0,r.W)("v-valid","v","valid")];function u(){return(0,o.jsx)(r.A,{className:"hmac-flow-wrapper",nodes:c,edges:l,verticalNodes:d,verticalEdges:h})}const f={sidebar_position:4},y="HMAC",g={},m=[{value:"Function",id:"function",level:2},{value:"<code>HMAC(Message: buffer, Key: buffer, HashFn: function, BlockSize: number, BigEndian: boolean?) -&gt; (string, buffer)</code>",id:"hmacmessage-buffer-key-buffer-hashfn-function-blocksize-number-bigendian-boolean---string-buffer",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"When to Use It",id:"when-to-use-it",level:2}];function b(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"hmac",children:"HMAC"})}),"\n","\n",(0,o.jsx)(i.p,{children:"Hash based Message Authentication Code. The standard way to create a MAC from a hash function when you need compatibility with existing systems."}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-luau",children:"local HMAC = Cryptography.Hashing.HMAC\n"})}),"\n",(0,o.jsx)(i.h2,{id:"function",children:"Function"}),"\n",(0,o.jsx)(i.h3,{id:"hmacmessage-buffer-key-buffer-hashfn-function-blocksize-number-bigendian-boolean---string-buffer",children:(0,o.jsx)(i.code,{children:"HMAC(Message: buffer, Key: buffer, HashFn: function, BlockSize: number, BigEndian: boolean?) -> (string, buffer)"})}),"\n",(0,o.jsx)(i.p,{children:"Generic HMAC that works with any hash function."}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-luau",children:'local SHA256 = Cryptography.Hashing.SHA2.SHA256\nlocal Blake3Digest = Cryptography.Hashing.Blake3.Digest\n\n-- HMAC with SHA256\nlocal Key = CSPRNG.RandomBytes(32)\nlocal Message = buffer.fromstring("Hello World")\nlocal HexMac, RawMac = HMAC(Message, Key, SHA256, 64, true)\n\n-- HMAC with BLAKE3 (use BigEndian = false for SHA3/BLAKE family)\nlocal HexMac2, RawMac2 = HMAC(Message, Key, Blake3Digest, 64, false)\n'})}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"Message"}),": The data to authenticate"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"Key"}),": Your secret key"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"HashFn"}),": The hash function to use (must return string, buffer)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"BlockSize"}),": The block size of the hash function (64 for SHA256, 128 for SHA512)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"BigEndian"}),": Set to ",(0,o.jsx)(i.code,{children:"true"})," for SHA2, ",(0,o.jsx)(i.code,{children:"false"})," for SHA3/BLAKE family"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,o.jsxs)(i.p,{children:["HMAC computes ",(0,o.jsx)(i.code,{children:"H((K \u2295 opad) || H((K \u2295 ipad) || M))"})," where K is the key (padded or hashed to block size), opad is 0x5c repeated, ipad is 0x36 repeated, and M is your message."]}),"\n",(0,o.jsx)(i.p,{children:"Keys longer than the hash's block size get hashed first. Keys shorter than the block size are zero padded. For best security, use a key at least as long as the hash output."}),"\n",(0,o.jsx)(u,{}),"\n",(0,o.jsx)(i.h2,{id:"when-to-use-it",children:"When to Use It"}),"\n",(0,o.jsx)(i.p,{children:"HMAC is the right choice when you need API authentication tokens, message integrity with sender verification, JWT signatures, or compatibility with existing HMAC based protocols."}),"\n",(0,o.jsx)(i.p,{children:"If you are building something new and do not need HMAC specifically, BLAKE3 DigestKeyed or BLAKE2b with a key are faster alternatives."})]})}function p(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(b,{...e})}):b(e)}},5014(e,i,t){t.d(i,{A:()=>h,W:()=>r});var s=t(6540),o=t(5622),a=t(5293),n=(t(1388),t(4848));function r(e,i,t){return{id:e,source:i,target:t,type:"smoothstep",animated:!0}}const c=e=>({background:e,color:"#fff",border:"none",borderRadius:8,fontSize:14,padding:"10px 20px"}),l={padding:.2,minZoom:.1,maxZoom:1};function d({nodes:e,edges:i,verticalNodes:t,verticalEdges:r}){const{colorMode:d}=(0,a.G)(),h="dark"===d,{fitView:u}=(0,o.VH)(),f=(0,s.useRef)(null),[y,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!f.current)return;const e=new ResizeObserver(e=>{const i=e[0]?.contentRect.width??0;g(i<468),requestAnimationFrame(()=>{u(l)})});return e.observe(f.current),()=>e.disconnect()},[u]);const m=y&&t&&r,b=m?t:e,p=m?r:i;(0,s.useEffect)(()=>{requestAnimationFrame(()=>{u(l)})},[b,h,u]);const x=(0,s.useMemo)(()=>b(c,h),[b,h]);return(0,n.jsx)("div",{ref:f,style:{width:"100%",height:"100%"},children:(0,n.jsx)(o.Gc,{nodes:x,edges:p,fitView:!0,fitViewOptions:l,minZoom:.1,preventScrolling:!1,nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,proOptions:{hideAttribution:!0}})})}function h({nodes:e,edges:i,verticalNodes:t,verticalEdges:s,className:a}){return(0,n.jsx)("div",{className:a,children:(0,n.jsx)(o.Ln,{children:(0,n.jsx)(d,{nodes:e,edges:i,verticalNodes:t,verticalEdges:s})})})}}}]);